{"version":3,"file":"lib/sailor.min.js","sources":["lib/sailor.js"],"names":["sailor","window","socketGet","url","additional","Promise","resolve","io","socket","get","resolveName","modelName","prefix","split","length","splice","join","getModel","name","itemDef","modelDef","filter","cacheName","JSON","stringify","_","has","modelCache","model","refresh","value","mdl","Model","addConnectionPrecalc","obj","self","merge","calculate","flags","this","_previous","prevId","isArray","map","val","isNumber","id","asyncSearch","then","noRefresh","i","__connection","onMessage","message","messageActions","verb","emit","children","{}","eventHandlers","_isModel","bind","scope","propertyName","isString","useModel","mergedFilter","cloneDeep","isEqual","find","mapValues","serverProperties","stringFilter","filteredModel","findOne","on","search","result","item","matches","forEach","expected","prop","exp","x","push","event","func","handlerList","triggered","apply","argumentMemory","off","index","indexOf","refreshes","all","args","toArray","arguments","slice","emitMemory","created","add","newModel","ModelItem","data","match","updated","itemsWithId","update","destroyed","createModelWrapper","WrapperObject","call","_create","catch","prototype","create","constructor","_model","_def","_update","_modelCache","property","Error","subProps","__precalc","dta","pop","save","funcParams","key","isFunction","previousVal","sync","post","reject","serverProps","put","response","error","props","allModelItems","destroy","modelIndex","delete","query","res"],"mappings":"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"}